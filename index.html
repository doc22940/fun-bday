<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=utf-8">
  <title>Are YOU dying?</title>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-3260115-4', 'auto');
    ga('send', 'pageview');
  </script>

  <style>
  body {
    font-family: "Gill Sans", "Gill Sans MT", Calibri, sans-serif;
    text-align: center;
  }
  h1 {
    font-size: 48px;
  }
  h2 {
    font-size: 96px;
  }
  .thinking, .still-thinking {
    display: none;
  }
  .answer-container {
    height: 120px;
  }
  .answer {
    display: none;
  }
  .quotes {
    margin: 16px auto;
    max-width: 600px;
    text-align: left;
  }
  blockquote {
    display: none;
  }
  .quotes blockquote:first-child {
    display: block;
  }
  q {
    display: block;
  }
  cite {
    display: block;
    text-align: right;
  }
  .death {
    font-variant: small-caps;
  }
  .death:before,
  .death:after {
    content: "";
  }
  </style>
</head>

<body>
  <h1>Are <em>you</em> dying?</h1>
  <div class="question">
    <form>
      <p>Enter your date of birth:</p>
      <p>
        <select name="year">
          <option value="">Year</option>
        </select>
        <select name="month">
          <option value="">Month</option>
          <option value="1">January</option>
          <option value="2">February</option>
          <option value="3">March</option>
          <option value="4">April</option>
          <option value="5">May</option>
          <option value="6">June</option>
          <option value="7">July</option>
          <option value="8">August</option>
          <option value="9">September</option>
          <option value="10">October</option>
          <option value="11">Novermber</option>
          <option value="12">December</option>
        </select>
        <select name="day">
          <option value="">Day</option>
        </select>
      </p>
      <p>
        <button type="submit">Find out!</button>
      </p>
    </form>
  </div>
  <div class="thinking">
    <iframe src="https://giphy.com/embed/xTk9ZvMnbIiIew7IpW" width="200" height="200" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/loop-loading-loader-xTk9ZvMnbIiIew7IpW">via GIPHY</a></p>
    <div class="still-thinking">Still thinking...</div>
  </div>
  <div class="answer-container">
    <h2 class="answer">YES</h2>
  </div>
  <div class="quotes">
    <blockquote>
      <q class="death">What can the harvest hope for, if not for the care of the Reaper Man?</q>
    </blockquote>
    <blockquote class="pterry">
      <q class="granny">Am I dyin'?</q>
      <q class="death">Yes.</q>
      <q class="granny">Will I die?</q>
      <q class="death">Yes.</q>
      <q class="granny">But from your point of view, everyone is dying and everyone will die, right?</q>
      <q class="death">Yes.</q>
      <q class="granny">So you aren't actually bein' a lot of help, strictly speakin'.</q>
    </blockquote>
    <blockquote class="pterry">
      <q class="death">The death of the warrior or the old man or the little child, this I understand, and I take away the pain and end the suffering. I do not understand this death-of-the-mind.</q>
    </blockquote>
    <blockquote>
      <q class="death">That’s mortals for you. They’ve only got a few years in this world and they spend them all in making things complicated for themselves.</q>
    </blockquote>
    <blockquote>
      <q class="death">No one gets pardoned for living.</q>
    </blockquote>
    <blockquote>
      <q>And what would humans be without love?</q>
      <q class="death">Rare.</q>
    </blockquote>
    <blockquote>
      <q class="death">There is no justice, there is just us</q>
    </blockquote>
    <blockquote>
      <q class="death">People's whole lives do pass in front of their eyes before they die. The process is called 'living'.</q>
    </blockquote>
    <cite>&mdash; Sir Terry Pratchett</cite>
  </div>
  <script>
  (function(d,t,l,c,g,q,a,s,p,n,b,o,v,e,x,h,L,$,y,i,j,k,m) {
    $ = document.querySelectorAll.bind(document);
    var thinking = $('.thinking')[0];
    $('button')[0].addEventListener('click', function(e) {
      e.preventDefault();
      $('.question')[0].style.display = 'none';
      thinking.style.display = 'block';
      setTimeout(function () {
        $('.still-thinking')[0].style.display = 'block';
      }, 3000);
      setTimeout(function () {
        thinking.style.display = 'none';
        $('.answer')[0].style.display = 'block';
      }, 6000);
    }, true);
    var year = (new Date).getFullYear();
    var yearSelect =$('[name=year]')[0];
    var el;
    for (i = 0; i < 115; i++) {
      el = document.createElement('option');
      el.textContent = el.value = year - i;
      yearSelect.appendChild(el);
    }
    var daySelect = $('[name=day]')[0];
    for (i = 1; i < 32; i++) {
      el = document.createElement('option');
      el.textContent = el.value = i;
      daySelect.appendChild(el);
    }
    m=function(y,n){return(new Date(y,n,0)).getDate();}
    //k=$('[name=month]')[0];
    //TODO k[l](g,function(){j=m(k[o+'s'][k.selectedIndex][v]);if(k[o+'s'][L]+1>j){}},t);
  })(document,true,'addEventListener','click','change','.question','.answer','style','display','none','block','option','value','createElement','textContent','appendChild','length');
  (function() {
    var quotes = document.querySelectorAll(".quotes blockquote"),
        l = quotes.length;
        n = Math.floor(Math.random() * l);
    quotes = Array.prototype.slice.apply(quotes);
    quotes.forEach(function(el) { el.style.display = 'none'; });
    quotes[n].style.display = 'block';
  })();
  </script>
</body>
</html>
